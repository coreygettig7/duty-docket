{"ast":null,"code":"var _jsxFileName = \"/Users/nicolamarble/Desktop/projects/duty-docket/client/src/components/Login/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport 'cirrus-ui';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope, faLock } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN_USER } from '../../utils/mutations';\nimport Auth from '../../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst envelopeIcon = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n  icon: faEnvelope\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 22\n}, this);\n\nconst lockIcon = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n  icon: faLock\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 18\n}, this);\n\nconst Login = props => {\n  _s();\n\n  const [formState, setFormState] = useState({\n    email: '',\n    password: ''\n  });\n  const [login, {\n    error\n  }] = useMutation(LOGIN_USER);\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({ ...formState,\n      [name]: value\n    });\n  }; // submit form handler\n\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const {\n        data\n      } = await login({\n        variables: { ...formState\n        }\n      }); //console.log(data)\n\n      Auth.login(data.login.token);\n    } catch (e) {\n      console.error(e);\n    }\n\n    setFormState({\n      email: '',\n      password: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"login-form\",\n    className: \"form-wrapper card u-flex u-justify-center u-flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"card_container form-card p-4\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"dark-text\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-control pb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control input-contains-icon\",\n          placeholder: \"Enter email\",\n          name: \"email\",\n          id: \"email\",\n          value: formState.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"icon fa fa-wrapper\",\n          children: envelopeIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-control pb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"input-control input-contains-icon\",\n          placeholder: \"*****\",\n          name: \"password\",\n          id: \"password\",\n          value: formState.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"icon fa fa-wrapper\",\n          children: lockIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-grid\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn bg-link text-white\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: \"Login failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"sign-up-link\",\n      className: \"m-3\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Sign up!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"AFfk2O1vYXVxJJ91P/Xqf/Qqe9U=\", false, function () {\n  return [useMutation];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faEnvelope","faLock","Link","useMutation","LOGIN_USER","Auth","envelopeIcon","lockIcon","Login","props","formState","setFormState","email","password","login","error","handleChange","event","name","value","target","handleFormSubmit","preventDefault","data","variables","token","e","console"],"sources":["/Users/nicolamarble/Desktop/projects/duty-docket/client/src/components/Login/index.js"],"sourcesContent":["import React , { useState } from 'react';\nimport 'cirrus-ui';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEnvelope, faLock } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\n\nimport { useMutation } from '@apollo/client';\nimport { LOGIN_USER } from '../../utils/mutations';\nimport Auth from '../../utils/auth';\n\n\nconst envelopeIcon = <FontAwesomeIcon icon={faEnvelope} />\nconst lockIcon = <FontAwesomeIcon icon={faLock} />\n\nconst Login = (props) => {\n  const [formState, setFormState] = useState({ email: '', password: ''});\n\n  const [login, { error }] = useMutation(LOGIN_USER);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value\n    })\n  }\n\n  // submit form handler\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const { data } = await login({\n        variables: { ...formState }\n      });\n      //console.log(data)\n      Auth.login(data.login.token)\n    } catch (e) {\n      console.error(e)\n    }\n\n    setFormState({\n      email: '',\n      password: ''\n    })\n  }\n\n  return (\n    <section id=\"login-form\" className='form-wrapper card u-flex u-justify-center u-flex-column'>\n      <form className='card_container form-card p-4' onSubmit={handleFormSubmit}>\n        <h3 className='dark-text'>Sign In</h3>\n        <div className='input-control pb-2'>\n          <label>Email address</label>\n          <input \n            type='email'\n            className='form-control input-contains-icon'\n            placeholder='Enter email'\n            name='email'\n            id='email'\n            value={formState.email}\n            onChange={handleChange}\n          />\n            <span class=\"icon fa fa-wrapper\">{envelopeIcon}</span>\n        </div>\n        <div className='input-control pb-2'>\n          <label>Password</label>\n          <input  \n            type='password'\n            className='input-control input-contains-icon'\n            placeholder='*****'\n            name='password'\n            id='password'\n            value={formState.password}\n            onChange={handleChange}\n          />\n            <span class=\"icon fa fa-wrapper\">{lockIcon}</span>\n        </div>\n        <div className='d-grid'>\n          <button \n            type='submit' \n            className='btn bg-link text-white'>\n            Submit\n          </button>\n        </div>\n      </form>\n      {error && <div><p className=\"error\">Login failed</p></div>}\n      <div id=\"sign-up-link\" className=\"m-3\">\n        <span>Don't have an account? <Link to=\"/signup\">Sign up!</Link></span>\n      </div>\n    </section>\n  )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}