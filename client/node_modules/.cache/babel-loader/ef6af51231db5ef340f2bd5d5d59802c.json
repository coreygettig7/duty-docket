{"ast":null,"code":"var _jsxFileName = \"/Users/nicolamarble/Desktop/projects/duty-docket/client/src/components/Delegation/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport 'cirrus-ui';\nimport { useMutation } from '@apollo/client';\nimport { ADD_DUTY } from '../../utils/mutations';\nimport { QUERY_ME_DUTIES, QUERY_ME } from '../../utils/queries';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Delegation = () => {\n  _s();\n\n  const [dutyText, setText] = useState('');\n  const [dutyDistinction, setDistinction] = useState('');\n  const [dueDate, setDate] = useState('');\n  const [dutyDeposit, setDeposit] = useState('');\n  const [addDuty, {\n    error\n  }] = useMutation(ADD_DUTY, {\n    update(cache, _ref) {\n      let {\n        data: {\n          addDuty\n        }\n      } = _ref;\n\n      try {\n        const {\n          me\n        } = cache.readQuery({\n          query: QUERY_ME\n        });\n        cache.writeQuery({\n          query: QUERY_ME,\n          data: {\n            me: { ...me,\n              duties: [...me.duties, addDuty]\n            }\n          }\n        });\n      } catch (e) {\n        console.error(e);\n      }\n\n      const {\n        duties\n      } = cache.readQuery({\n        query: QUERY_ME_DUTIES\n      });\n      cache.writeQuery({\n        query: QUERY_ME_DUTIES,\n        data: {\n          duties: [addDuty, ...duties]\n        }\n      });\n    }\n\n  });\n\n  const handleDateChange = event => {\n    setDate(event.target.value);\n  };\n\n  const handleTextChange = event => {\n    setText(event.target.value);\n  };\n\n  const handleDistinctionChange = event => {\n    setDistinction(event.target.value);\n  };\n\n  const handleDepositChange = event => {\n    setDeposit(event.target.value);\n  };\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      await addDuty({\n        variables: {\n          dutyText,\n          dutyDistinction,\n          dueDate,\n          dutyDeposit\n        }\n      });\n      setText('');\n      setDistinction('');\n      setDate('');\n      setDeposit('');\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card p-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-centered\",\n      children: \"Add a new duty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"What is the new duty...\",\n      value: dutyText,\n      onChange: handleTextChange,\n      name: \"dutyText\",\n      id: \"dutyText\",\n      className: \"mb-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"What is the status of the duty\",\n      value: dutyDistinction,\n      onChange: handleDistinctionChange,\n      className: \"mb-2\",\n      id: \"dutyDistinction\",\n      name: \"duytDistinction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"When is the due date\",\n      value: dueDate,\n      onChange: handleDateChange,\n      className: \"mb-2\",\n      name: \"dueDate\",\n      id: \"dueDate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Allowance Amount\",\n      value: dutyDeposit,\n      onChange: handleDepositChange,\n      className: \"mb-2\",\n      name: \"dutyDeposit\",\n      id: \"dutyDeposit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Please complete the form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Delegation, \"9nQ+ykwOLu5iHWB7JougvOtKd4s=\", false, function () {\n  return [useMutation];\n});\n\n_c = Delegation;\nexport default Delegation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Delegation\");","map":{"version":3,"names":["React","useState","useMutation","ADD_DUTY","QUERY_ME_DUTIES","QUERY_ME","Delegation","dutyText","setText","dutyDistinction","setDistinction","dueDate","setDate","dutyDeposit","setDeposit","addDuty","error","update","cache","data","me","readQuery","query","writeQuery","duties","e","console","handleDateChange","event","target","value","handleTextChange","handleDistinctionChange","handleDepositChange","handleFormSubmit","preventDefault","variables"],"sources":["/Users/nicolamarble/Desktop/projects/duty-docket/client/src/components/Delegation/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport 'cirrus-ui';\nimport { useMutation } from '@apollo/client';\nimport { ADD_DUTY } from '../../utils/mutations';\nimport { QUERY_ME_DUTIES, QUERY_ME } from '../../utils/queries';\n\n\nconst Delegation = () => {\n    const [dutyText, setText] = useState('');\n    const [dutyDistinction, setDistinction] = useState('');\n    const [dueDate, setDate] = useState('');\n    const [dutyDeposit, setDeposit] = useState('');\n\n    const [addDuty, {error}] = useMutation(ADD_DUTY, {\n        update(cache, { data: { addDuty }}) {\n            try {\n                const { me } = cache.readQuery({ query: QUERY_ME });\n                cache.writeQuery({\n                    query: QUERY_ME,\n                    data: { me: { ...me, duties: [...me.duties, addDuty]}}\n                });\n            }\n            catch (e) {\n                console.error(e);\n            }\n            const { duties } = cache.readQuery({ query: QUERY_ME_DUTIES });\n            cache.writeQuery({\n                query: QUERY_ME_DUTIES,\n                data: { duties: [addDuty, ...duties] }\n            });\n        }\n    });\n    const handleDateChange = event => {\n        setDate(event.target.value);\n        \n    };\n    const handleTextChange = event => {\n        setText(event.target.value)\n        \n    }\n    const handleDistinctionChange = event => {\n        setDistinction(event.target.value);\n    }\n    const handleDepositChange = event => {\n        setDeposit(event.target.value);\n    }\n    const handleFormSubmit = async event => {\n        event.preventDefault();\n        try {\n            await addDuty({\n                variables: { dutyText, dutyDistinction, dueDate, dutyDeposit }\n            });\n            setText('');\n            setDistinction('');\n            setDate('');\n            setDeposit('');\n        }\n        catch (e) {\n            console.error(e);\n        }\n    };\n    return (\n        <div className=\"card p-3\">\n            <h3 className=\"text-centered\">Add a new duty</h3>\n            <form onSubmit={handleFormSubmit} />\n            <input\n                placeholder='What is the new duty...'\n                value={dutyText}\n                onChange={handleTextChange}\n                name=\"dutyText\"\n                id=\"dutyText\"\n                className=\"mb-2\"\n            />\n            <input\n                placeholder='What is the status of the duty'\n                value={dutyDistinction}\n                onChange={handleDistinctionChange}\n                className=\"mb-2\"\n                id=\"dutyDistinction\"\n                name=\"duytDistinction\"\n            />\n            <input\n                placeholder='When is the due date'\n                value={dueDate}\n                onChange={handleDateChange}\n                className=\"mb-2\"\n                name=\"dueDate\"\n                id=\"dueDate\"\n            />\n            <input\n                placeholder='Allowance Amount'\n                value={dutyDeposit}\n                onChange={handleDepositChange}\n                className=\"mb-2\"\n                name=\"dutyDeposit\"\n                id=\"dutyDeposit\"\n            />\n            <button type=\"submit\">Submit</button>\n            {error && <div>Please complete the form</div>}\n        </div>\n    )\n};\nexport default Delegation;"],"mappings":"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"},"metadata":{},"sourceType":"module"}