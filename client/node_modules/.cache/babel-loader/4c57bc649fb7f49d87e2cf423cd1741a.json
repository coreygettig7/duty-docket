{"ast":null,"code":"var _jsxFileName = \"/Users/nicolamarble/Desktop/projects/duty-docket/client/src/components/Modal/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { UPDATE_DUTY } from '../../utils/mutations';\nimport { QUERY_DUTY } from '../../utils/queries';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Modal(_ref) {\n  _s();\n\n  let {\n    currentDuty\n  } = _ref;\n  // destructure the props\n  const {\n    text,\n    date,\n    distinction,\n    deposit\n  } = currentDuty;\n  const [dutyText, setDutyText] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [dutyDistinction, setDutyDistinction] = useState('');\n  const [dutyDeposit, setDutyDeposit] = useState('');\n  const [updateDuty, {\n    error\n  }] = useMutation(UPDATE_DUTY); // get dutyId from the params\n\n  const {\n    id: dutyId\n  } = useParams();\n  const {\n    loading,\n    data\n  } = useQuery(QUERY_DUTY, {\n    variables: {\n      id: dutyId\n    }\n  });\n  const duty = (data === null || data === void 0 ? void 0 : data.duty) || {};\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, this);\n  }\n\n  const handleFormSubmit = async event => {\n    event.preventDefault(); // // test what's being passed to the backend\n    //console.log(dutyId, dutyText, dueDate, dutyDistinction, dutyDeposit)\n\n    try {\n      // update duty in the database\n      await updateDuty({\n        variables: {\n          dutyId,\n          dutyText,\n          dueDate,\n          dutyDistinction,\n          dutyDeposit\n        }\n      });\n      setDutyText('');\n      setDueDate('');\n      setDutyDistinction('');\n      setDutyDeposit('');\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleDutyTextChange = event => {\n    setDutyText(event.target.value);\n  };\n\n  const handleDueDateChange = event => {\n    setDueDate(event.target.value);\n  };\n\n  const handleDutyDistinctionChange = event => {\n    setDutyDistinction(event.target.value);\n  };\n\n  const handleDutyDepositChange = event => {\n    setDutyDeposit(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal modalBackdrop\",\n    id: \"edit-modal\",\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#anchor-to-background\",\n      className: \"u-pull-right text-light mr-3\",\n      \"aria-label\": \"Close\",\n      children: \"CLOSE \\u274C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form modalBackground p-4\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"font-bold text-light\",\n          children: \"Duty Text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"input--xs\",\n          placeholder: duty.dutyText,\n          id: \"dutyText\",\n          name: \"dutyText\",\n          value: dutyText,\n          onChange: handleDutyTextChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"font-bold text-light\",\n          children: \"Due Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"input--xs\",\n          placeholder: duty.dueDate,\n          name: \"dueDate\",\n          id: \"dueDate\",\n          value: dueDate,\n          onChange: handleDueDateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-control list-dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"distinction\",\n          className: \"font-bold text-light\",\n          children: \"Duty Distinction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"input--xs\",\n          placeholder: duty.dutyDistinction,\n          name: \"dutyDistinction\",\n          id: \"dutyDistinction\",\n          value: dutyDistinction,\n          onChange: handleDutyDistinctionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"font-bold text-light\",\n          children: \"Duty Deposit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"input--xs\",\n          placeholder: duty.dutyDeposit,\n          id: \"dutyDeposit\",\n          name: \"dutyDeposit\",\n          value: dutyDeposit,\n          onChange: handleDutyDepositChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-control\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          type: \"submit\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2 error\",\n        children: \"Something went wrong...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }, this)]\n    }, dutyId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Modal, \"tN0DPBNzclRvEe/naGyohfkk7Ro=\", false, function () {\n  return [useMutation, useParams, useQuery];\n});\n\n_c = Modal;\n;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","useMutation","useQuery","UPDATE_DUTY","QUERY_DUTY","useParams","Modal","currentDuty","text","date","distinction","deposit","dutyText","setDutyText","dueDate","setDueDate","dutyDistinction","setDutyDistinction","dutyDeposit","setDutyDeposit","updateDuty","error","id","dutyId","loading","data","variables","duty","handleFormSubmit","event","preventDefault","e","console","log","handleDutyTextChange","target","value","handleDueDateChange","handleDutyDistinctionChange","handleDutyDepositChange"],"sources":["/Users/nicolamarble/Desktop/projects/duty-docket/client/src/components/Modal/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { UPDATE_DUTY } from '../../utils/mutations';\nimport { QUERY_DUTY } from '../../utils/queries';\nimport { useParams } from 'react-router-dom';\n\nfunction Modal({currentDuty}) {\n  // destructure the props\n  const { text, date, distinction, deposit } = currentDuty; \n  \n  \n  const [ dutyText, setDutyText ] = useState('');\n  const [ dueDate, setDueDate ] = useState('');\n  const [ dutyDistinction, setDutyDistinction ] = useState('');\n  const [ dutyDeposit, setDutyDeposit ] = useState('');\n\n  const [updateDuty, { error }] = useMutation(UPDATE_DUTY);\n\n  // get dutyId from the params\n  const { id: dutyId } = useParams();\n  const {loading, data } = useQuery(QUERY_DUTY, {\n    variables: { id: dutyId }\n  })\n  const duty = data?.duty || {};\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    // // test what's being passed to the backend\n    //console.log(dutyId, dutyText, dueDate, dutyDistinction, dutyDeposit)\n\n    try {\n      // update duty in the database\n      await updateDuty({\n        variables: { dutyId, dutyText, dueDate, dutyDistinction, dutyDeposit }\n      })\n      setDutyText('');\n      setDueDate('');\n      setDutyDistinction('');\n      setDutyDeposit('');\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  const handleDutyTextChange = (event) => {\n    setDutyText(event.target.value);\n  };\n  const handleDueDateChange = (event) => {\n    setDueDate(event.target.value); \n  };\n  const handleDutyDistinctionChange = (event) => {\n    setDutyDistinction(event.target.value)\n  }\n  const handleDutyDepositChange = (event) => {\n    setDutyDeposit(event.target.value);\n  }\n\n  return (\n\n    <div className=\"modal modalBackdrop\" id=\"edit-modal\">\n      <a href=\"#anchor-to-background\" className=\"u-pull-right text-light mr-3\" aria-label=\"Close\">\n            CLOSE ❌\n        </a>\n      <form className=\"form modalBackground p-4\" key={dutyId} onSubmit={handleFormSubmit}>\n        <div className=\"input-control\">\n          <label className=\"font-bold text-light\">Duty Text</label>\n          <input \n          type=\"text\" \n          className=\"input--xs\"\n          placeholder={duty.dutyText}\n          id=\"dutyText\"\n          name=\"dutyText\"\n          value={dutyText}\n          onChange={handleDutyTextChange}></input>\n        </div>\n        <div className=\"input-control\">\n          <label className=\"font-bold text-light\">Due Date</label>\n          <input\n          type=\"text\"\n          className=\"input--xs\"\n          placeholder={duty.dueDate}\n          name=\"dueDate\"\n          id=\"dueDate\"\n          value={dueDate}\n          onChange={handleDueDateChange}></input>\n        </div>\n\n        <div className=\"input-control list-dropdown\">\n          <label for=\"distinction\" className=\"font-bold text-light\">Duty Distinction</label>\n          <input\n          type=\"text\"\n          className=\"input--xs\"\n          placeholder={duty.dutyDistinction}\n          name=\"dutyDistinction\"\n          id=\"dutyDistinction\"\n          value={dutyDistinction}\n          onChange={handleDutyDistinctionChange}></input>\n        </div>\n        \n        <div className=\"input-control\">\n          <label className=\"font-bold text-light\">Duty Deposit</label>\n         <input\n          type=\"text\"\n          className=\"input--xs\"\n          placeholder={duty.dutyDeposit}\n          id=\"dutyDeposit\"\n          name=\"dutyDeposit\"\n          value={dutyDeposit}\n          onChange={handleDutyDepositChange}></input>\n        </div>\n\n        \n\n        <div className=\"input-control\">\n          <button className=\"btn\" type=\"submit\">Update</button>\n        </div>\n        {error && <span className=\"ml-2 error\">Something went wrong...</span>}\n      </form>\n      \n  </div>\n\n    \n\n  );\n};\n\nexport default Modal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}